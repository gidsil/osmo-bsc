AT_INIT
AT_BANNER([Regression tests.])

AT_SETUP([bsc_subscr])
AT_KEYWORDS([bsc_subscr])
cat $abs_srcdir/subscr/bsc_subscr_test.ok > expout
cat $abs_srcdir/subscr/bsc_subscr_test.err > experr
AT_CHECK([$abs_top_builddir/tests/subscr/bsc_subscr_test], [], [expout], [experr])
AT_CLEANUP

AT_SETUP([channel])
AT_KEYWORDS([channel])
cat $abs_srcdir/channel/channel_test.ok > expout
AT_CHECK([$abs_top_builddir/tests/channel/channel_test], [], [expout], [ignore])
AT_CLEANUP

AT_SETUP([bsc-nat-trie])
AT_KEYWORDS([bsc-nat-trie])
AT_CHECK([test "$enable_nat_test" != no || exit 77])
cp $abs_srcdir/bsc-nat-trie/prefixes.csv .
cat $abs_srcdir/bsc-nat-trie/bsc_nat_trie_test.ok > expout
AT_CHECK([$abs_top_builddir/tests/bsc-nat-trie/bsc_nat_trie_test], [], [expout], [ignore])
AT_CLEANUP

AT_SETUP([abis])
AT_KEYWORDS([abis])
cat $abs_srcdir/abis/abis_test.ok > expout
AT_CHECK([$abs_top_builddir/tests/abis/abis_test], [], [expout], [ignore])
AT_CLEANUP

AT_SETUP([bsc])
AT_KEYWORDS([bsc])
AT_CHECK([test "$enable_bsc_test" != no || exit 77])
cat $abs_srcdir/bsc/bsc_test.ok > expout
AT_CHECK([$abs_top_builddir/tests/bsc/bsc_test], [], [expout], [ignore])
AT_CLEANUP

AT_SETUP([trau])
AT_KEYWORDS([trau])
cat $abs_srcdir/trau/trau_test.ok > expout
AT_CHECK([$abs_top_builddir/tests/trau/trau_test], [], [expout], [ignore])
AT_CLEANUP

AT_SETUP([nanobts_omlattr])
AT_KEYWORDS([nanobts_omlattr])
cat $abs_srcdir/nanobts_omlattr/nanobts_omlattr_test.ok > expout
AT_CHECK([$abs_top_builddir/tests/nanobts_omlattr/nanobts_omlattr_test], [], [expout], [ignore])
AT_CLEANUP
